<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: PubSub.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: PubSub.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * PubSub namespace.
 * @namespace
 */
var PubSub = {};

/**
 * Subscribes a callback to an event.
 * @function subscribe
 * @memberof PubSub
 * @param {string} ev An event type.
 * @param {Function} callback A function to call when the event is published.
 */
PubSub.subscribe = function (ev, callback) {
  // Create _callbacks object, unless it already exists
  var calls = this._callbacks || (this._callbacks = {});

  // Create an array for the given event key, unless it exists, then
  // append the callback to the array
  (this._callbacks[ev] || (this._callbacks[ev] = [])).push(callback);
  return this;
};

/**
 * Publishes an event. Subscribed callbacks will be invoked. Pass an event
 * name as the first argument. All other arguments will be passed to all
 * invoked callbacks.
 * @function publish
 * @memberof PubSub
 */
PubSub.publish = function () {
  // Turn arguements into a real array
  var args = Array.prototype.slice.call(arguments, 0);

  // Extract the first argument, the event name
  var ev = args.shift();

  // Return if there isn't a _callbacks object, or
  // if it doesn't contain an array for the given event
  var list, calls, i, l;
  if (!(calls = this._callbacks)) {
    return this;
  }
  if (!(list = this._callbacks[ev])) {
    return this;
  }

  // Invoke the callbacks
  for (i = 0, l = list.length; i &lt; l; i += 1) {
    list[i].apply(this, args);
  }
  return this;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Jumper.html">Jumper</a></li><li><a href="StatusMessage.html">StatusMessage</a></li></ul><h3>Namespaces</h3><ul><li><a href="PubSub.html">PubSub</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0</a> on Sun Sep 08 2013 11:50:22 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
